<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="generator" content="VNote">

    <title>11.工廠模式 Factory Method</title>
    <link rel="icon" href="https://github.com/tamlok/vnote/raw/master/src/resources/icons/vnote.ico">

    <style type="text/css">
    /* STYLE_GLOBAL_PLACE_HOLDER */
    </style>

    <style type="text/css">
    *,
*::before,
*::after {
  box-sizing: border-box;
}

.container-fluid {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}

.col, .col-1, .col-10, .col-11, .col-12, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-auto, .col-lg, .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-auto, .col-md, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-auto, .col-sm, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-auto, .col-xl, .col-xl-1, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-auto {
    position: relative;
    width: 100%;
    min-height: 1px;
    padding-right: 15px;
    padding-left: 15px;
}

.col-12 {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100%;
    flex: 0 0 100%;
    max-width: 100%;
}

@media (min-width: 768px) {
    .col-md-3 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 25%;
        flex: 0 0 25%;
        max-width: 25%;
    }
}

@media (min-width: 768px) {
    .col-md-9 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 75%;
        flex: 0 0 75%;
        max-width: 75%;
    }
}

@media (min-width: 1200px) {
    .col-xl-2 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 16.666667%;
        flex: 0 0 16.666667%;
        max-width: 16.666667%;
    }
}

@media (min-width: 1200px) {
    .col-xl-10 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 83.333333%;
        flex: 0 0 83.333333%;
        max-width: 83.333333%;
    }
}

@media (min-width: 768px) {
    .pt-md-3, .py-md-3 {
        padding-top: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pb-md-3, .py-md-3 {
        padding-bottom: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pl-md-5, .px-md-5 {
        padding-left: 3rem!important;
    }
}

.d-none {
    display: none!important;
}

@media (min-width: 1200px) {
    .d-xl-block {
        display: block!important;
    }
}

@media (min-width: 768px) {
    .d-md-block {
        display: block!important;
    }
}

.bd-content {
    -webkit-box-ordinal-group: 1;
    -ms-flex-order: 0;
    order: 0;
}

.bd-toc {
    position: -webkit-sticky;
    position: sticky;
    top: 4rem;
    height: calc(100vh - 10rem);
    overflow-y: auto;
}

.bd-toc {
    -webkit-box-ordinal-group: 2;
    -ms-flex-order: 1;
    order: 1;
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
    font-size: .875rem;
}

.section-nav {
    padding-left: 0;
}

.section-nav ul {
    font-size: .875rem;
    list-style-type: none;
}

.section-nav li {
    font-size: .875rem;
}

.section-nav a {
    color: inherit !important;
}

.row {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
}

@media (min-width: 1200px) {
    .flex-xl-nowrap {
        flex-wrap: nowrap !important;
    }
}

#floating-button {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: #00897B;
    position: fixed;
    top: .5rem;
    right: .5rem;
    cursor: pointer;
    box-shadow: 0px 2px 5px #666;
}

#floating-button .more {
    color: #F5F5F5;
    position: absolute;
    top: 0;
    display: block;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center;
    padding: 0;
    margin: 0;
    line-height: 2.5rem;
    font-size: 2rem;
    font-family: 'monospace';
    font-weight: 300;
}

.hide-none {
    display: none !important;
}

.col-expand {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100% !important;
    flex: 0 0 100% !important;
    max-width: 100% !important;
    padding-right: 3rem !important;
}

.outline-bold {
    font-weight: bolder !important;
}

@media print {
    #floating-button {
        display: none !important;
    }
}

    @keyframes flash { 
  0% { color: rgb(128, 203, 196); }
  10% { color: rgb(0, 137, 123); }
  40% { color: rgb(0, 137, 123); }
  50% { color: rgb(128, 203, 196); }
  60% { color: rgb(0, 137, 123); }
  90% { color: rgb(0, 137, 123); }
}
.highlighted-anchor { animation: flash 1s; }
div.mark-rect { background: transparent; border: 5px solid rgb(87, 104, 196); border-radius: 2px; position: absolute; }
#vnote-footer { width: 100%; text-align: center; opacity: 0.2; margin-top: 3rem; }
#vnote-footer p { font-size: 0.8rem; }
#vnote-footer a { color: inherit !important; }
x-eqs { display: flex; flex-direction: row; align-content: space-between; align-items: center; }
x-eqs > x-eqn { width: 100%; margin-left: 3rem; }
x-eqs > span { text-align: right; }
.view-image, .view-svg { transition: 0.3s; }
.modal-box { display: none; position: fixed; z-index: 1000; padding-top: 50px; left: 0px; top: 0px; width: 100%; height: 100%; overflow: hidden; background-color: rgba(68, 68, 68, 0.952941); }
.modal-content { margin: auto; display: block; width: auto; height: auto; cursor: move; }
.modal-content { animation-name: zoom; animation-duration: 0.6s; }
@-webkit-keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
@keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
span.modal-close { position: absolute; z-index: 1000; top: 15px; right: 35px; color: rgb(218, 218, 218); font-size: 40px; font-weight: bold; transition: 0.3s; }
span.modal-close:hover, span.modal-close:focus { color: rgb(238, 238, 238); text-decoration: none; cursor: pointer; }
@media print {
  pre, pre code, td.hljs-ln-code { white-space: pre-wrap !important; word-break: break-all !important; }
  code, a { word-break: break-all !important; }
  div.flowchart-diagram, div.mermaid-diagram, div.plantuml-diagram { overflow: hidden !important; }
  img { max-width: 100% !important; height: auto !important; }
  #vnote-footer { display: none !important; }
}
.alert { position: relative; padding: 0.75rem 1.25rem; margin-bottom: 1rem; border: 1px solid transparent; border-radius: 0.25rem; }
.alert-primary { color: rgb(0, 64, 133); background-color: rgb(204, 229, 255); border-color: rgb(184, 218, 255); }
.alert-secondary { color: rgb(56, 61, 65); background-color: rgb(226, 227, 229); border-color: rgb(214, 216, 219); }
.alert-success { color: rgb(21, 87, 36); background-color: rgb(212, 237, 218); border-color: rgb(195, 230, 203); }
.alert-info { color: rgb(12, 84, 96); background-color: rgb(209, 236, 241); border-color: rgb(190, 229, 235); }
.alert-warning { color: rgb(133, 100, 4); background-color: rgb(255, 243, 205); border-color: rgb(255, 238, 186); }
.alert-danger { color: rgb(114, 28, 36); background-color: rgb(248, 215, 218); border-color: rgb(245, 198, 203); }
.alert-light { color: rgb(129, 129, 130); background-color: rgb(254, 254, 254); border-color: rgb(253, 253, 254); }
.alert-dark { color: rgb(27, 30, 33); background-color: rgb(214, 216, 217); border-color: rgb(198, 200, 202); }
.vnote-anchor { font-weight: 400; color: rgba(0, 123, 255, 0.498039); transition: color 0.16s linear; padding-left: 0.375em; -webkit-font-smoothing: antialiased; text-decoration: none; opacity: 0; }
.vnote-anchor:hover { color: rgb(0, 123, 255); text-decoration: none; opacity: 1; }
.vnote-anchor::after { content: attr(data-anchor-icon); }
.vnote-btn { position: relative; display: inline-block; padding: 6px 12px; font-size: 13px; font-weight: 700; line-height: 20px; white-space: nowrap; vertical-align: middle; cursor: pointer; border: none; user-select: none; -webkit-appearance: none; }
.vnote-copy-clipboard-btn { transition: opacity 0.3s ease-in-out; opacity: 0; padding: 2px 6px; position: absolute; top: 5px; right: 5px; }
pre:hover .vnote-copy-clipboard-btn { opacity: 1; }
pre.vnote-snippet { position: relative; }
body { margin: 0px auto; font-family: "Segoe UI", Helvetica, sans-serif, Tahoma, Arial, Geneva, Georgia, Palatino, "Times New Roman", "Hiragino Sans GB", 冬青黑体, "Microsoft YaHei", 微软雅黑, "Microsoft YaHei UI", "WenQuanYi Micro Hei", 文泉驿雅黑, Dengxian, 等线体, STXihei, 华文细黑, "Liberation Sans", "Droid Sans", NSimSun, 新宋体, SimSun, 宋体; color: rgb(34, 34, 34); line-height: 1.5; padding: 15px; background: rgb(238, 238, 238); font-size: 16px; }
h1, h2, h3, h4, h5, h6 { color: rgb(34, 34, 34); font-weight: bold; margin-top: 20px; margin-bottom: 10px; padding: 0px; }
p { padding: 0px; margin-top: 16px; margin-bottom: 16px; }
h1 { font-size: 26px; }
h2 { font-size: 24px; }
h3 { font-size: 22px; }
h4 { font-size: 20px; }
h5 { font-size: 19px; }
h6 { font-size: 18px; }
a { color: rgb(0, 153, 255); margin: 0px; padding: 0px; vertical-align: baseline; text-decoration: none; word-break: break-word; }
a:hover { text-decoration: underline; color: rgb(255, 102, 0); }
a:visited { color: purple; }
ul, ol { padding: 0px 0px 0px 24px; }
li { line-height: 24px; }
li ul, li ol { margin-left: 16px; }
p, ul, ol { font-size: 16px; line-height: 24px; }
pre { display: block; overflow-y: hidden; overflow-x: auto; tab-size: 4; }
code { font-family: Consolas, Monaco, monospace, Courier; color: rgb(142, 36, 170); word-break: break-word; }
pre code { display: block; overflow-x: auto; padding: 0.5em; color: rgb(34, 34, 34); background-color: rgb(224, 224, 224); border-left: 0.5em solid rgb(0, 137, 123); line-height: 1.5; font-family: Consolas, Monaco, monospace, Courier; white-space: pre; tab-size: 4; }
pre code.markdown-metadata { border-left: 0.5em solid rgb(128, 203, 196); }
aside { display: block; float: right; width: 390px; }
blockquote { color: rgb(102, 102, 102); border-left: 0.5em solid rgb(122, 122, 122); padding: 0px 1em; margin-left: 0px; }
blockquote p { color: rgb(102, 102, 102); }
hr { display: block; text-align: left; margin: 1em 0px; border: none; height: 2px; background: rgb(153, 153, 153); }
table { padding: 0px; margin: 1rem 0.5rem; border-collapse: collapse; }
table tr { border-top: 2px solid rgb(204, 204, 204); background-color: white; margin: 0px; padding: 0px; }
table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border: 2px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr td { border: 2px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr th :first-child, table tr td :first-child { margin-top: 0px; }
table tr th :last-child, table tr td :last-child { margin-bottom: 0px; }
div.mermaid-diagram { margin: 16px 0px; overflow-y: hidden; }
div.flowchart-diagram { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.wavedrom-diagram { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.plantuml-diagram { padding: 5px 5px 0px; margin: 16px 0px; width: fit-content; overflow: hidden; }
.img-package { text-align: center; }
img.img-center { display: block; margin-left: auto; margin-right: auto; }
span.img-caption { min-width: 20%; max-width: 80%; display: inline-block; padding: 10px; margin: 0px auto; border-bottom: 1px solid rgb(192, 192, 192); color: rgb(108, 108, 108); text-align: center; line-height: 1.5; }
.emoji_zero, .emoji_one, .emoji_two, .emoji_three, .emoji_four, .emoji_five, .emoji_six, .emoji_seven, .emoji_eight, .emoji_nine { margin-left: 5px; margin-right: 8px; }
div.preview-hint { opacity: 0.5; margin-top: 30%; margin-bottom: 30%; align-items: center; display: flex; flex-direction: column; justify-content: center; }
table.hljs-ln tr { border: none; background-color: transparent; }
table.hljs-ln tr td { border: none; background-color: transparent; }
table.hljs-ln tr td.hljs-ln-numbers { user-select: none; text-align: center; color: rgb(170, 170, 170); border-right: 1px solid rgb(204, 204, 204); vertical-align: top; padding-right: 5px; white-space: nowrap; }
table.hljs-ln tr td.hljs-ln-code { padding-left: 10px; }
::-webkit-scrollbar { background-color: rgb(234, 234, 234); width: 14px; height: 14px; border: none; }
::-webkit-scrollbar-corner { background-color: rgb(234, 234, 234); }
::-webkit-scrollbar-button { height: 14px; width: 14px; background-color: rgb(234, 234, 234); }
::-webkit-scrollbar-button:hover { background-color: rgb(208, 208, 208); }
::-webkit-scrollbar-button:active { background-color: rgb(178, 178, 178); }
::-webkit-scrollbar-track { background-color: rgb(234, 234, 234); }
::-webkit-scrollbar-thumb { border: none; background-color: rgb(218, 218, 218); }
::-webkit-scrollbar-thumb:hover { background-color: rgb(208, 208, 208); }
::-webkit-scrollbar-thumb:active { background-color: rgb(178, 178, 178); }
::-webkit-scrollbar-button:horizontal:increment { background-image: url('data:image/svg+xml;utf8,<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g>    <g transform="rotate(-90 256.00000000000006,256) " id="svg_1">   <polygon fill="%23333333" id="svg_2" points="128,192 256,320 384,192  "/>  </g> </g></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:horizontal:decrement { background-image: url('data:image/svg+xml;utf8,<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g>    <g transform="rotate(90 255.99999999999997,256.00000000000006) " id="svg_1">   <polygon points="128,192 256,320 384,192  " id="svg_2" fill="%23333333"/>  </g> </g></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:increment { background-image: url('data:image/svg+xml;utf8,<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g>    <g transform="null" id="svg_1">   <polygon points="128,192 256,320 384,192  " id="svg_2" fill="%23333333"/>  </g> </g></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:decrement { background-image: url('data:image/svg+xml;utf8,<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g>    <g transform="rotate(180 255.99999999999997,256) " id="svg_1">   <polygon points="128,192 256,320 384,192  " id="svg_2" fill="%23333333"/>  </g> </g></svg>'); background-repeat: no-repeat; background-size: contain; }
::selection { background: rgb(25, 118, 210); color: rgb(238, 238, 238); }
.modal-box { background-color: rgba(234, 234, 234, 0.952941); }
span.modal-close { color: rgb(102, 102, 102); }
span.modal-close:hover, span.modal-close:focus { color: rgb(34, 34, 34); }
.hljs { display: block; overflow-x: auto; padding: 0.5em; background: rgb(224, 224, 224); }
.hljs, .hljs-subst { color: rgb(54, 54, 54); }
.hljs-comment { color: rgb(118, 118, 118); }
.hljs-keyword, .hljs-attribute, .hljs-selector-tag, .hljs-meta-keyword, .hljs-doctag, .hljs-name { color: rgb(0, 0, 238); }
.hljs-type, .hljs-string, .hljs-number, .hljs-selector-id, .hljs-selector-class, .hljs-quote, .hljs-template-tag, .hljs-deletion { color: rgb(136, 0, 0); }
.hljs-title, .hljs-section { color: rgb(136, 0, 0); font-weight: bold; }
.hljs-regexp, .hljs-symbol, .hljs-variable, .hljs-template-variable, .hljs-link, .hljs-selector-attr, .hljs-selector-pseudo { color: rgb(188, 96, 96); }
.hljs-literal { color: rgb(175, 0, 215); }
.hljs-built_in, .hljs-bullet, .hljs-code, .hljs-addition { color: rgb(0, 135, 0); }
.hljs-meta { color: rgb(31, 113, 153); }
.hljs-meta-string { color: rgb(77, 153, 191); }
.hljs-emphasis { font-style: italic; }
.hljs-strong { font-weight: bold; }
.mermaid-diagram .mermaid .label { color: rgb(51, 51, 51); }
.mermaid-diagram .node rect, .mermaid-diagram .node circle, .mermaid-diagram .node ellipse, .mermaid-diagram .node polygon { fill: rgb(236, 236, 255); stroke: rgb(204, 204, 255); stroke-width: 1px; }
.mermaid-diagram .edgePath .path { stroke: rgb(51, 51, 51); }
.mermaid-diagram .edgeLabel { background-color: rgb(232, 232, 232); }
.mermaid-diagram .cluster rect { fill: rgb(255, 255, 222) !important; rx: 4 !important; stroke: rgb(170, 170, 51) !important; stroke-width: 1px !important; }
.mermaid-diagram .cluster text { fill: rgb(51, 51, 51); }
.mermaid-diagram .actor { stroke: rgb(204, 204, 255); fill: rgb(236, 236, 255); }
.mermaid-diagram text.actor { fill: black; stroke: none; }
.mermaid-diagram .actor-line { stroke: grey; }
.mermaid-diagram .messageLine0 { stroke-width: 1.5; stroke: rgb(51, 51, 51); }
.mermaid-diagram .messageLine1 { stroke-width: 1.5; stroke: rgb(51, 51, 51); }
.mermaid-diagram #arrowhead { fill: rgb(51, 51, 51); }
.mermaid-diagram #crosshead path { fill: rgb(51, 51, 51) !important; stroke: rgb(51, 51, 51) !important; }
.mermaid-diagram .messageText { fill: rgb(51, 51, 51); stroke: none; }
.mermaid-diagram .labelBox { stroke: rgb(204, 204, 255); fill: rgb(236, 236, 255); }
.mermaid-diagram .labelText { fill: black; stroke: none; }
.mermaid-diagram .loopText { fill: black; stroke: none; }
.mermaid-diagram .loopLine { stroke-width: 2; stroke: rgb(204, 204, 255); }
.mermaid-diagram .note { stroke: rgb(170, 170, 51); fill: rgb(255, 245, 173); }
.mermaid-diagram .noteText { fill: black; stroke: none; font-family: "trebuchet ms", verdana, arial; font-size: 14px; }
.mermaid-diagram .section { stroke: none; opacity: 0.2; }
.mermaid-diagram .section0 { fill: rgba(102, 102, 255, 0.490196); }
.mermaid-diagram .section2 { fill: rgb(255, 244, 0); }
.mermaid-diagram .section1, .mermaid-diagram .section3 { fill: white; opacity: 0.2; }
.mermaid-diagram .sectionTitle0 { fill: rgb(51, 51, 51); }
.mermaid-diagram .sectionTitle1 { fill: rgb(51, 51, 51); }
.mermaid-diagram .sectionTitle2 { fill: rgb(51, 51, 51); }
.mermaid-diagram .sectionTitle3 { fill: rgb(51, 51, 51); }
.mermaid-diagram .sectionTitle { text-anchor: start; font-size: 11px; }
.mermaid-diagram .grid .tick { stroke: lightgrey; opacity: 0.3; shape-rendering: crispEdges; }
.mermaid-diagram .grid path { stroke-width: 0; }
.mermaid-diagram .today { fill: none; stroke: red; stroke-width: 2px; }
.mermaid-diagram .task { stroke-width: 2; }
.mermaid-diagram .taskText { text-anchor: middle; font-size: 11px; }
.mermaid-diagram .taskTextOutsideRight { fill: black; text-anchor: start; font-size: 11px; }
.mermaid-diagram .taskTextOutsideLeft { fill: black; text-anchor: end; font-size: 11px; }
.mermaid-diagram .taskText0, .mermaid-diagram .taskText1, .mermaid-diagram .taskText2, .mermaid-diagram .taskText3 { fill: white; }
.mermaid-diagram .task0, .mermaid-diagram .task1, .mermaid-diagram .task2, .mermaid-diagram .task3 { fill: rgb(138, 144, 221); stroke: rgb(83, 79, 188); }
.mermaid-diagram .taskTextOutside0, .mermaid-diagram .taskTextOutside2 { fill: black; }
.mermaid-diagram .taskTextOutside1, .mermaid-diagram .taskTextOutside3 { fill: black; }
.mermaid-diagram .active0, .mermaid-diagram .active1, .mermaid-diagram .active2, .mermaid-diagram .active3 { fill: rgb(191, 199, 255); stroke: rgb(83, 79, 188); }
.mermaid-diagram .activeText0, .mermaid-diagram .activeText1, .mermaid-diagram .activeText2, .mermaid-diagram .activeText3 { fill: black !important; }
.mermaid-diagram .done0, .mermaid-diagram .done1, .mermaid-diagram .done2, .mermaid-diagram .done3 { stroke: grey; fill: lightgrey; stroke-width: 2; }
.mermaid-diagram .doneText0, .mermaid-diagram .doneText1, .mermaid-diagram .doneText2, .mermaid-diagram .doneText3 { fill: black !important; }
.mermaid-diagram .crit0, .mermaid-diagram .crit1, .mermaid-diagram .crit2, .mermaid-diagram .crit3 { stroke: rgb(255, 136, 136); fill: red; stroke-width: 2; }
.mermaid-diagram .activeCrit0, .mermaid-diagram .activeCrit1, .mermaid-diagram .activeCrit2, .mermaid-diagram .activeCrit3 { stroke: rgb(255, 136, 136); fill: rgb(191, 199, 255); stroke-width: 2; }
.mermaid-diagram .doneCrit0, .mermaid-diagram .doneCrit1, .mermaid-diagram .doneCrit2, .mermaid-diagram .doneCrit3 { stroke: rgb(255, 136, 136); fill: lightgrey; stroke-width: 2; cursor: pointer; shape-rendering: crispEdges; }
.mermaid-diagram .doneCritText0, .mermaid-diagram .doneCritText1, .mermaid-diagram .doneCritText2, .mermaid-diagram .doneCritText3 { fill: black !important; }
.mermaid-diagram .activeCritText0, .mermaid-diagram .activeCritText1, .mermaid-diagram .activeCritText2, .mermaid-diagram .activeCritText3 { fill: black !important; }
.mermaid-diagram .titleText { text-anchor: middle; font-size: 18px; fill: black; }
.mermaid-diagram .node text { font-family: "trebuchet ms", verdana, arial; font-size: 14px; }
.mermaid-diagram div.mermaidTooltip { position: absolute; text-align: center; max-width: 200px; padding: 2px; font-family: "trebuchet ms", verdana, arial; font-size: 12px; background: rgb(255, 255, 222); border: 1px solid rgb(170, 170, 51); border-radius: 2px; pointer-events: none; z-index: 100; }
.hljs-ln { border-collapse: collapse; }
.hljs-ln td { padding: 0px; }
.hljs-ln-n::before { content: attr(data-line-number); }
.MathJax_Hover_Frame { border-radius: 0.25em; box-shadow: rgb(136, 51, 170) 0px 0px 15px; display: inline-block; position: absolute; border: 1px solid rgb(170, 102, 221) !important; }
.MathJax_Menu_Button .MathJax_Hover_Arrow { position: absolute; cursor: pointer; display: inline-block; border: 2px solid rgb(170, 170, 170); border-radius: 4px; font-family: "Courier New", Courier; font-size: 9px; color: rgb(240, 240, 240); }
.MathJax_Menu_Button .MathJax_Hover_Arrow span { display: block; background-color: rgb(170, 170, 170); border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px; }
.MathJax_Hover_Arrow:hover { color: white !important; border: 2px solid rgb(204, 204, 204) !important; }
.MathJax_Hover_Arrow:hover span { background-color: rgb(204, 204, 204) !important; }
#MathJax_About { position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: rgb(221, 221, 221); color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; box-shadow: rgb(128, 128, 128) 0px 10px 20px; }
#MathJax_About.MathJax_MousePost { outline: none; }
.MathJax_Menu { position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid rgb(204, 204, 204); margin: 0px; cursor: default; font-style: normal; font-weight: normal; font-size: 15px; font-family: "Microsoft JhengHei UI"; font-stretch: normal; font-variant: normal; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: rgb(128, 128, 128) 0px 10px 20px; }
.MathJax_MenuItem { padding: 2px 2em; background: transparent; }
.MathJax_MenuArrow { position: absolute; right: 0.5em; padding-top: 0.25em; color: rgb(102, 102, 102); font-size: 0.75em; }
.MathJax_MenuActive .MathJax_MenuArrow { color: white; }
.MathJax_MenuArrow.RTL { left: 0.5em; right: auto; }
.MathJax_MenuCheck { position: absolute; left: 0.7em; }
.MathJax_MenuCheck.RTL { right: 0.7em; left: auto; }
.MathJax_MenuRadioCheck { position: absolute; left: 1em; }
.MathJax_MenuRadioCheck.RTL { right: 1em; left: auto; }
.MathJax_MenuLabel { padding: 2px 2em 4px 1.33em; font-style: italic; }
.MathJax_MenuRule { border-top: 1px solid rgb(204, 204, 204); margin: 4px 1px 0px; }
.MathJax_MenuDisabled { color: graytext; }
.MathJax_MenuActive { background-color: highlight; color: highlighttext; }
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus { background-color: rgb(232, 232, 232); }
.MathJax_ContextMenu:focus { outline: none; }
.MathJax_ContextMenu .MathJax_MenuItem:focus { outline: none; }
#MathJax_AboutClose { top: 0.2em; right: 0.2em; }
.MathJax_Menu .MathJax_MenuClose { top: -10px; left: -10px; }
.MathJax_MenuClose { position: absolute; cursor: pointer; display: inline-block; border: 2px solid rgb(170, 170, 170); border-radius: 18px; font-family: "Courier New", Courier; font-size: 24px; color: rgb(240, 240, 240); }
.MathJax_MenuClose span { display: block; background-color: rgb(170, 170, 170); border: 1.5px solid; border-radius: 18px; line-height: 0; padding: 8px 0px 6px; }
.MathJax_MenuClose:hover { color: white !important; border: 2px solid rgb(204, 204, 204) !important; }
.MathJax_MenuClose:hover span { background-color: rgb(204, 204, 204) !important; }
.MathJax_MenuClose:hover:focus { outline: none; }
.MathJax_Preview .MJXf-math { color: inherit !important; }
.MJX_Assistive_MathML { top: 0px; left: 0px; clip: rect(1px 1px 1px 1px); user-select: none; position: absolute !important; padding: 1px 0px 0px !important; border: 0px !important; height: 1px !important; width: 1px !important; overflow: hidden !important; display: block !important; }
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block { width: 100% !important; }
#MathJax_Zoom { position: absolute; background-color: rgb(240, 240, 240); overflow: auto; display: block; z-index: 301; padding: 0.5em; border: 1px solid black; margin: 0px; font-weight: normal; font-style: normal; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-sizing: content-box; box-shadow: rgb(170, 170, 170) 5px 5px 15px; }
#MathJax_ZoomOverlay { position: absolute; left: 0px; top: 0px; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0px; padding: 0px; margin: 0px; background-color: white; opacity: 0; }
#MathJax_ZoomFrame { position: relative; display: inline-block; height: 0px; width: 0px; }
#MathJax_ZoomEventTrap { position: absolute; left: 0px; top: 0px; z-index: 302; display: inline-block; border: 0px; padding: 0px; margin: 0px; background-color: white; opacity: 0; }
.MathJax_Preview { color: rgb(136, 136, 136); }
#MathJax_Message { position: fixed; left: 1px; bottom: 2px; background-color: rgb(230, 230, 230); border: 1px solid rgb(149, 149, 149); margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap; }
#MathJax_MSIE_Frame { position: absolute; top: 0px; left: 0px; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px; }
.MathJax_Error { color: rgb(204, 0, 0); font-style: italic; }
.MJXp-script { font-size: 0.8em; }
.MJXp-right { transform-origin: right center 0px; }
.MJXp-bold { font-weight: bold; }
.MJXp-italic { font-style: italic; }
.MJXp-scr { font-family: MathJax_Script, "Times New Roman", Times, STIXGeneral, serif; }
.MJXp-frak { font-family: MathJax_Fraktur, "Times New Roman", Times, STIXGeneral, serif; }
.MJXp-sf { font-family: MathJax_SansSerif, "Times New Roman", Times, STIXGeneral, serif; }
.MJXp-cal { font-family: MathJax_Caligraphic, "Times New Roman", Times, STIXGeneral, serif; }
.MJXp-mono { font-family: MathJax_Typewriter, "Times New Roman", Times, STIXGeneral, serif; }
.MJXp-largeop { font-size: 150%; }
.MJXp-largeop.MJXp-int { vertical-align: -0.2em; }
.MJXp-math { display: inline-block; line-height: 1.2; text-indent: 0px; font-family: "Times New Roman", Times, STIXGeneral, serif; white-space: nowrap; border-collapse: collapse; }
.MJXp-display { display: block; text-align: center; margin: 1em 0px; }
.MJXp-math span { display: inline-block; }
.MJXp-box { text-align: center; display: block !important; }
.MJXp-box::after { content: " "; }
.MJXp-rule { margin-top: 0.1em; display: block !important; }
.MJXp-char { display: block !important; }
.MJXp-mo { margin: 0px 0.15em; }
.MJXp-mfrac { margin: 0px 0.125em; vertical-align: 0.25em; }
.MJXp-denom { width: 100%; display: inline-table !important; }
.MJXp-denom > * { display: table-row !important; }
.MJXp-surd { vertical-align: top; }
.MJXp-surd > * { display: block !important; }
.MJXp-script-box > * { height: 50%; display: table !important; }
.MJXp-script-box > * > * { vertical-align: top; display: table-cell !important; }
.MJXp-script-box > :last-child > * { vertical-align: bottom; }
.MJXp-script-box > * > * > * { display: block !important; }
.MJXp-mphantom { visibility: hidden; }
.MJXp-munderover { display: inline-table !important; }
.MJXp-over { text-align: center; display: inline-block !important; }
.MJXp-over > * { display: block !important; }
.MJXp-munderover > * { display: table-row !important; }
.MJXp-mtable { vertical-align: 0.25em; margin: 0px 0.125em; }
.MJXp-mtable > * { vertical-align: middle; display: inline-table !important; }
.MJXp-mtr { display: table-row !important; }
.MJXp-mtd { text-align: center; padding: 0.5em 0px 0px 0.5em; display: table-cell !important; }
.MJXp-mtr > .MJXp-mtd:first-child { padding-left: 0px; }
.MJXp-mtr:first-child > .MJXp-mtd { padding-top: 0px; }
.MJXp-mlabeledtr { display: table-row !important; }
.MJXp-mlabeledtr > .MJXp-mtd:first-child { padding-left: 0px; }
.MJXp-mlabeledtr:first-child > .MJXp-mtd { padding-top: 0px; }
.MJXp-merror { background-color: rgb(255, 255, 136); color: rgb(204, 0, 0); border: 1px solid rgb(204, 0, 0); padding: 1px 3px; font-style: normal; font-size: 90%; }
.MJXp-scale0 { transform: scaleX(0); }
.MJXp-scale1 { transform: scaleX(0.1); }
.MJXp-scale2 { transform: scaleX(0.2); }
.MJXp-scale3 { transform: scaleX(0.3); }
.MJXp-scale4 { transform: scaleX(0.4); }
.MJXp-scale5 { transform: scaleX(0.5); }
.MJXp-scale6 { transform: scaleX(0.6); }
.MJXp-scale7 { transform: scaleX(0.7); }
.MJXp-scale8 { transform: scaleX(0.8); }
.MJXp-scale9 { transform: scaleX(0.9); }
.MathJax_PHTML .noError { font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid; }

    </style>

    <script type="text/javascript">
var toc = [];

var setVisible = function(node, visible) {
    var cl = 'hide-none';
    if (visible) {
        node.classList.remove(cl);
    } else {
        node.classList.add(cl);
    }
};

var isVisible = function(node) {
    var cl = 'hide-none';
    return !node.classList.contains(cl);
};

var setPostContentExpanded = function(node, expanded) {
    var cl = 'col-expand';
    if (expanded) {
        node.classList.add(cl);
    } else {
        node.classList.remove(cl);
    }
};

var setOutlinePanelVisible = function(visible) {
    var outlinePanel = document.getElementById('outline-panel');
    var postContent = document.getElementById('post-content');

    setVisible(outlinePanel, visible);
    setPostContentExpanded(postContent, !visible);
};

var isOutlinePanelVisible = function() {
    var outlinePanel = document.getElementById('outline-panel');
    return isVisible(outlinePanel);
};

window.addEventListener('load', function() {
    var outlinePanel = document.getElementById('outline-panel');
    outlinePanel.style.display = 'initial';

    var floatingContainer = document.getElementById('container-floating');
    floatingContainer.style.display = 'initial';

    var outlineContent = document.getElementById('outline-content');
    var postContent = document.getElementById('post-content');

    // Escape @text to Html.
    var escapeHtml = function(text) {
        var map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };

        return text.replace(/[&<>"']/g, function(m) { return map[m]; });
    }

    // Fetch the outline.
    var headers = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");
    toc = [];
    for (var i = 0; i < headers.length; ++i) {
        var header = headers[i];

        toc.push({
            level: parseInt(header.tagName.substr(1)),
            anchor: header.id,
            title: escapeHtml(header.textContent)
        });
    }

    if (toc.length == 0) {
        setOutlinePanelVisible(false);
        setVisible(floatingContainer, false);
        return;
    }

    var baseLevel = baseLevelOfToc(toc);
    var tocTree = tocToTree(toPerfectToc(toc, baseLevel), baseLevel);

    outlineContent.innerHTML = tocTree;
    setOutlinePanelVisible(true);
    setVisible(floatingContainer, true);
});

// Return the topest level of @toc, starting from 1.
var baseLevelOfToc = function(p_toc) {
    var level = -1;
    for (i in p_toc) {
        if (level == -1) {
            level = p_toc[i].level;
        } else if (level > p_toc[i].level) {
            level = p_toc[i].level;
        }
    }

    if (level == -1) {
        level = 1;
    }

    return level;
};

// Handle wrong title levels, such as '#' followed by '###'
var toPerfectToc = function(p_toc, p_baseLevel) {
    var i;
    var curLevel = p_baseLevel - 1;
    var perfToc = [];
    for (i in p_toc) {
        var item = p_toc[i];

        // Insert empty header.
        while (item.level > curLevel + 1) {
            curLevel += 1;
            var tmp = { level: curLevel,
                        anchor: '',
                        title: '[EMPTY]'
                      };
            perfToc.push(tmp);
        }

        perfToc.push(item);
        curLevel = item.level;
    }

    return perfToc;
};

var itemToHtml = function(item) {
    return '<a href="#' + item.anchor + '" data="' + item.anchor + '">' + item.title + '</a>';
};

// Turn a perfect toc to a tree using <ul>
var tocToTree = function(p_toc, p_baseLevel) {
    var i;
    var front = '<li>';
    var ending = ['</li>'];
    var curLevel = p_baseLevel;
    for (i in p_toc) {
        var item = p_toc[i];
        if (item.level == curLevel) {
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        } else if (item.level > curLevel) {
            // assert(item.level - curLevel == 1)
            front += '<ul>';
            ending.push('</ul>');
            front += '<li>';
            front += itemToHtml(item);
            ending.push('</li>');
            curLevel = item.level;
        } else {
            while (item.level < curLevel) {
                var ele = ending.pop();
                front += ele;
                if (ele == '</ul>') {
                    curLevel--;
                }
            }
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        }
    }
    while (ending.length > 0) {
        front += ending.pop();
    }
    front = front.replace("<li></li>", "");
    front = '<ul>' + front + '</ul>';
    return front;
};

var toggleMore = function() {
    if (toc.length == 0) {
        return;
    }

    var p = document.getElementById('floating-more');
    if (isOutlinePanelVisible()) {
        p.textContent = '<';
        setOutlinePanelVisible(false);
    } else {
        p.textContent = '>';
        setOutlinePanelVisible(true);
    }
};

window.addEventListener('scroll', function() {
    if (toc.length == 0 || !isOutlinePanelVisible()) {
        return;
    }

    var postContent = document.getElementById('post-content');
    var scrollTop = document.documentElement.scrollTop
                    || document.body.scrollTop
                    || window.pageYOffset;
    var eles = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");

    if (eles.length == 0) {
        return;
    }

    var idx = -1;
    var biaScrollTop = scrollTop + 50;
    for (var i = 0; i < eles.length; ++i) {
        if (biaScrollTop >= eles[i].offsetTop) {
            idx = i;
        } else {
            break;
        }
    }

    var header = '';
    if (idx != -1) {
        header = eles[idx].id;
    }

    highlightItemOnlyInOutline(header);
});

var highlightItemOnlyInOutline = function(id) {
    var cl = 'outline-bold';
    var outlineContent = document.getElementById('outline-content');
    var eles = outlineContent.querySelectorAll("a");
    var target = null;
    for (var i = 0; i < eles.length; ++i) {
        var ele = eles[i];
        if (ele.getAttribute('data') == id) {
            target = ele;
            ele.classList.add(cl);
        } else {
            ele.classList.remove(cl);
        }
    }

    // TODO: scroll target into view within the outline panel scroll area.
};

</script>


<!-- HEAD_PLACE_HOLDER -->
</head>
<body>
<div class="container-fluid">
<div class="row flex-xl-nowrap">
    <div id="outline-panel" style="display:none;" class="d-none d-md-block d-xl-block col-md-3 col-xl-2 bd-toc">
        <div id="outline-content" class="section-nav"></div>
    </div>
    <div id="post-content" class="col-12 col-md-9 col-xl-10 py-md-3 pl-md-5 bd-content">
    <h1 id="toc_0">11.工廠模式 Factory Method<a class="vnote-anchor" href="#toc_0" data-anchor-icon="#"></a></h1>
<h2 id="toc_1">工廠理論講解<a class="vnote-anchor" href="#toc_1" data-anchor-icon="#"></a></h2>
<h3 id="toc_2">工廠模式是模式中很重要的一個<a class="vnote-anchor" href="#toc_2" data-anchor-icon="#"></a></h3>
<ul>
<li>優點:無須一個個宣告，只要工廠實例化後，只要呼叫就能新增實例化出來，並且客戶端無須知道工廠內部如何運作，該如何實例化由工廠決定</li>
<li>工廠模式:也就是將實例化分離並統一，已達成將實例化與程式解偶</li>
<li>工廠模式有三種
<ul>
<li>
<ol>
<li>簡單工廠</li>
</ol>
</li>
<li>
<ol start="2">
<li>工廠</li>
</ol>
</li>
<li>
<ol start="3">
<li>抽象工廠</li>
</ol>
</li>
</ul>
</li>
</ul>
<div class="plantuml-diagram"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="423px" preserveAspectRatio="none" style="width:829px;height:423px;" version="1.1" viewBox="0 0 829 423" width="829.5px" zoomAndPan="magnify" class="view-svg"><defs><filter height="300%" id="f18wtfc5qaa8t5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="6.0" dy="6.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--MD5=[72136138052d025cffdce3c22fbd185f]
class Product--><rect fill="#FEFECE" filter="url(#f18wtfc5qaa8t5)" height="95.5012" id="Product" style="stroke: #A80036; stroke-width: 2.25;" width="111" x="46.5" y="69"></rect><ellipse cx="69" cy="93" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M75.1875,98.9297 Q74.6484,99.8672 73.3828,100.8281 Q71.2734,102.3516 67.1719,102.3516 Q63.8906,102.3516 61.6875,100.1484 Q59.1328,97.5938 59.1328,92.8125 Q59.1328,88.4063 61.6641,85.7109 Q63.9844,83.2734 67.3125,83.2734 Q70.125,83.2734 71.6016,83.7188 Q73.0781,84.1641 73.0781,84.1641 Q73.0781,84.1641 73.0781,83.3203 L74.6016,83.1797 L74.8359,89.2734 L72.8438,89.4609 Q71.625,84.0703 67.5234,84.0703 Q67.5234,84.0703 66.6328,84.4922 Q65.2734,85.0078 64.5,85.8281 Q62.4375,88.1484 62.4141,92.8594 Q62.3906,97.0313 64.6875,99.375 Q66.6328,101.3672 67.875,101.3672 Q70.9219,101.3672 74.2031,97.5234 L75.1875,98.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="63" x="90" y="101.8638">Product</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="48" x2="156" y1="117" y2="117"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="66" x="55.5" y="142.8757">產品抽象</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="48" x2="156" y1="152.5012" y2="152.5012"></line><!--MD5=[990132e04f994323e3060f5453bb4352]
class ConcreteProduct--><rect fill="#FEFECE" filter="url(#f18wtfc5qaa8t5)" height="95.5012" id="ConcreteProduct" style="stroke: #A80036; stroke-width: 2.25;" width="186" x="9" y="312"></rect><ellipse cx="31.5" cy="336" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M37.6875,341.9297 Q37.1484,342.8672 35.8828,343.8281 Q33.7734,345.3516 29.6719,345.3516 Q26.3906,345.3516 24.1875,343.1484 Q21.6328,340.5938 21.6328,335.8125 Q21.6328,331.4063 24.1641,328.7109 Q26.4844,326.2734 29.8125,326.2734 Q32.625,326.2734 34.1016,326.7188 Q35.5781,327.1641 35.5781,327.1641 Q35.5781,327.1641 35.5781,326.3203 L37.1016,326.1797 L37.3359,332.2734 L35.3438,332.4609 Q34.125,327.0703 30.0234,327.0703 Q30.0234,327.0703 29.1328,327.4922 Q27.7734,328.0078 27,328.8281 Q24.9375,331.1484 24.9141,335.8594 Q24.8906,340.0313 27.1875,342.375 Q29.1328,344.3672 30.375,344.3672 Q33.4219,344.3672 36.7031,340.5234 L37.6875,341.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="138" x="52.5" y="344.8638">ConcreteProduct</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="10.5" x2="193.5" y1="360" y2="360"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="82.5" x="18" y="385.8757">產品實例類</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="10.5" x2="193.5" y1="395.5012" y2="395.5012"></line><!--MD5=[2c589014e840926a718801db2289e0a7]
class Creator--><rect fill="#FEFECE" filter="url(#f18wtfc5qaa8t5)" height="95.5012" id="Creator" style="stroke: #A80036; stroke-width: 2.25;" width="109.5" x="285.75" y="69"></rect><ellipse cx="308.25" cy="93" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M314.4375,98.9297 Q313.8984,99.8672 312.6328,100.8281 Q310.5234,102.3516 306.4219,102.3516 Q303.1406,102.3516 300.9375,100.1484 Q298.3828,97.5938 298.3828,92.8125 Q298.3828,88.4063 300.9141,85.7109 Q303.2344,83.2734 306.5625,83.2734 Q309.375,83.2734 310.8516,83.7188 Q312.3281,84.1641 312.3281,84.1641 Q312.3281,84.1641 312.3281,83.3203 L313.8516,83.1797 L314.0859,89.2734 L312.0938,89.4609 Q310.875,84.0703 306.7734,84.0703 Q306.7734,84.0703 305.8828,84.4922 Q304.5234,85.0078 303.75,85.8281 Q301.6875,88.1484 301.6641,92.8594 Q301.6406,97.0313 303.9375,99.375 Q305.8828,101.3672 307.125,101.3672 Q310.1719,101.3672 313.4531,97.5234 L314.4375,98.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="61.5" x="329.25" y="101.8638">Creator</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="287.25" x2="393.75" y1="117" y2="117"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="49.5" x="294.75" y="142.8757">工廠類</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="287.25" x2="393.75" y1="152.5012" y2="152.5012"></line><!--MD5=[9fa9675923b2c821721124a66decc968]
class ConcreteCreator--><rect fill="#FEFECE" filter="url(#f18wtfc5qaa8t5)" height="95.5012" id="ConcreteCreator" style="stroke: #A80036; stroke-width: 2.25;" width="184.5" x="248.25" y="312"></rect><ellipse cx="270.75" cy="336" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M276.9375,341.9297 Q276.3984,342.8672 275.1328,343.8281 Q273.0234,345.3516 268.9219,345.3516 Q265.6406,345.3516 263.4375,343.1484 Q260.8828,340.5938 260.8828,335.8125 Q260.8828,331.4063 263.4141,328.7109 Q265.7344,326.2734 269.0625,326.2734 Q271.875,326.2734 273.3516,326.7188 Q274.8281,327.1641 274.8281,327.1641 Q274.8281,327.1641 274.8281,326.3203 L276.3516,326.1797 L276.5859,332.2734 L274.5938,332.4609 Q273.375,327.0703 269.2734,327.0703 Q269.2734,327.0703 268.3828,327.4922 Q267.0234,328.0078 266.25,328.8281 Q264.1875,331.1484 264.1641,335.8594 Q264.1406,340.0313 266.4375,342.375 Q268.3828,344.3672 269.625,344.3672 Q272.6719,344.3672 275.9531,340.5234 L276.9375,341.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="136.5" x="291.75" y="344.8638">ConcreteCreator</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="249.75" x2="431.25" y1="360" y2="360"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="66" x="257.25" y="385.8757">實體工廠</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="249.75" x2="431.25" y1="395.5012" y2="395.5012"></line><path d="M448.5,12 L448.5,221.4192 L811.5,221.4192 L811.5,27 L796.5,12 L448.5,12 " fill="#FBFB77" filter="url(#f18wtfc5qaa8t5)" style="stroke: #A80036; stroke-width: 1.5;"></path><path d="M796.5,12 L796.5,27 L811.5,27 L796.5,12 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.5;"></path><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="136.5" x="457.5" y="42.9895">這是工廠的基本</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="175.5" x="457.5" y="70.7637">工廠裡輸出產品實類</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="331.5" x="457.5" y="98.5378">客戶端宣告產品抽象，用工廠拿到實類</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="0" x="463.5" y="126.312"></text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="117" x="457.5" y="154.0862">新增的話只要</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="282" x="457.5" y="181.8604">新增ConcreteProduct產品實例類</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="297" x="457.5" y="209.6345">以及ConcreteCreator實體工廠就行</text><!--MD5=[03f389ab946010d19db5823a3056b88d]
reverse link Product to ConcreteProduct--><path d="M102,195.4995 C102,233.769 102,278.7646 102,311.774 " fill="none" id="Product<-ConcreteProduct" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="91.5002,195.3435,102,165.3435,112.5002,195.3435,91.5002,195.3435" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[ef1bc5798733e6fc5a6eca0cf841bcae]
reverse link Creator to ConcreteCreator--><path d="M340.5,195.4995 C340.5,233.769 340.5,278.7646 340.5,311.774 " fill="none" id="Creator<-ConcreteCreator" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="330,195.3435,340.5,165.3435,351,195.3435,330,195.3435" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[a725d70ebb0444d9edb449c8e9408be0]
reverse link ConcreteProduct to ConcreteCreator--><path d="M203.001,360 C217.9875,360 232.9755,360 247.962,360 " fill="none" id="ConcreteProduct<-ConcreteCreator" style="stroke: #A80036; stroke-width: 1.5; stroke-dasharray: 7.0,7.0;"></path><polygon fill="#A80036" points="195.1635,360,208.6635,366,202.6635,360,208.6635,354,195.1635,360" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[b9093d172d21f7884a65dc28ad00d16e]
@startuml
skinparam classAttributeIconSize 0
scale 1.5
class Product{
產品抽象
}

class ConcreteProduct{
產品實例類
}

class Creator{
工廠類
}

class ConcreteCreator{
實體工廠
}


Product <|- - ConcreteProduct
Creator <|- - ConcreteCreator
ConcreteCreator .left.> ConcreteProduct

note as N1
這是工廠的基本
工廠裡輸出產品實類
客戶端宣告產品抽象，用工廠拿到實類

新增的話只要
新增ConcreteProduct產品實例類
以及ConcreteCreator實體工廠就行
end note

@enduml

PlantUML version 1.2020.00(Sat Jan 11 20:30:53 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_231-b11
Operating System: Windows 10
Default Encoding: MS950
Language: zh
Country: TW
--></g></svg></div>
<h3 id="toc_3">書中提到工廠實現方法<a class="vnote-anchor" href="#toc_3" data-anchor-icon="#"></a></h3>
<h4 id="toc_4">書中對於工廠實現方式有三種<a class="vnote-anchor" href="#toc_4" data-anchor-icon="#"></a></h4>
<h5 id="toc_5">1. 普通工廠<a class="vnote-anchor" href="#toc_5" data-anchor-icon="#"></a></h5>
<p>就是單純的工廠，主程式呼叫，工廠回傳實例</p>
<pre><code class="lang-csharp hljs"><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//工廠部分</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型A</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProductA</span> : <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteProductA</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"生成物件類型A"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型B</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProductB</span> : <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteProductB</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"生成物件類型B"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 宣告factory , 子類別會回傳對應的Product型別之物件</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Creator</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> Product <span class="hljs-title">FactoryMethod</span>(<span class="hljs-params"></span>)</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 產生ProductA的工廠</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteCreatorProductA</span> : <span class="hljs-title">Creator</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteCreatorProductA</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"產生工廠:ConcreteCreatorProductA"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> Product <span class="hljs-title">FactoryMethod</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="40"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="41"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ConcreteProductA();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="42"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="43"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="44"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="45"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 產生ProductB的工廠</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="46"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteCreatorProductB</span> : <span class="hljs-title">Creator</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="47"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="48"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteCreatorProductB</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="49"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="50"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"產生工廠:ConcreteCreatorProductB"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="51"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="52"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> Product <span class="hljs-title">FactoryMethod</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="53"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="54"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ConcreteProductB();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="55"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="56"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="57"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//工廠部分完</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="58"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="59"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//主程式部分</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="60"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// 產品</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="61"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Product theProduct = <span class="hljs-literal">null</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="62"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="63"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-comment">// 工廠界面</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="64"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Creator theCreator = <span class="hljs-literal">null</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="65"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="66"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-comment">// 設定為負責ProduceA的工廠</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="67"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theCreator = <span class="hljs-keyword">new</span> ConcreteCreatorProductA();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="68"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theProduct = theCreator.FactoryMethod();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="69"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="70"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-comment">// 設定為負責ProduceB的工廠</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="71"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theCreator = <span class="hljs-keyword">new</span> ConcreteCreatorProductB();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="72"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theProduct = theCreator.FactoryMethod();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="73"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr></tbody></table></code></pre>
<h5 id="toc_6">2. 參數工廠<a class="vnote-anchor" href="#toc_6" data-anchor-icon="#"></a></h5>
<p>在工廠生成中，添加Switch Case來判斷</p>
<pre><code class="lang-csharp hljs"><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//工廠部分</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型A</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProductA</span> : <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteProductA</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"生成物件類型A"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型B</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProductB</span> : <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteProductB</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"生成物件類型B"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// 宣告factory method，它會依參數Type的提示回傳對應Product類別物件</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Creator_MethodType</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> Product <span class="hljs-title">FactoryMethod</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> Type</span>)</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 覆寫factory method，以回傳Product型別之物件</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteCreator_MethodType</span>: <span class="hljs-title">Creator_MethodType</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteCreator_MethodType</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"產生工廠:ConcreteCreator_MethodType"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> Product <span class="hljs-title">FactoryMethod</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> Type</span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="40"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="41"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			<span class="hljs-keyword">switch</span>( Type )</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="42"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="43"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="44"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">				<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ConcreteProductA();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="45"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="46"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">				<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ConcreteProductB();			</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="47"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="48"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"Type["</span>+Type+<span class="hljs-string">"]無法產生物件"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="49"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="50"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="51"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="52"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//工廠部分完</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="53"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="54"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//主程式部分</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="55"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// 產品</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="56"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Product theProduct = <span class="hljs-literal">null</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="57"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="58"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// 工廠界面</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="59"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Creator_MethodType theCreatorMethodType = <span class="hljs-keyword">new</span> ConcreteCreator_MethodType();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="60"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="61"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-comment">// 取得兩個產品</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="62"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theProduct = theCreatorMethodType.FactoryMethod(<span class="hljs-number">1</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="63"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theProduct = theCreatorMethodType.FactoryMethod(<span class="hljs-number">2</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="64"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr></tbody></table></code></pre>
<h5 id="toc_7">3.泛型工廠<a class="vnote-anchor" href="#toc_7" data-anchor-icon="#"></a></h5>
<p>泛型工廠是這三個工廠中最難理解，但卻是最好用的<br>
因為泛型的特性只要輸入對的Class就能拿到對應的實例<br>
泛型工廠還有分兩種</p>
<ol>
<li>泛型工廠</li>
<li>泛型方法</li>
</ol>
<h6 id="toc_8">泛型工廠<a class="vnote-anchor" href="#toc_8" data-anchor-icon="#"></a></h6>
<p>就是讓工廠抽象設定泛型函式，然後讓實例工廠複寫泛型函式</p>
<pre><code class="lang-csharp hljs"><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">//工廠部分</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型A</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProductA</span> : <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteProductA</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"生成物件類型A"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型B</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProductB</span> : <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteProductB</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"生成物件類型B"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">// 宣告factory method界箅,並使用Generic定義方法</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">interface</span> <span class="hljs-title">Creator_GenericMethod</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">//where T: Product, new();這句意思是，泛型輸入時需要是繼承Product的類</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Product FactoryMethod&lt;T&gt;() <span class="hljs-keyword">where</span> T: Product, <span class="hljs-keyword">new</span>();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 覆寫factory method，以回傳Product型別之物件</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteCreator_GenericMethod</span> : <span class="hljs-title">Creator_GenericMethod</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteCreator_GenericMethod</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"產生工廠:ConcreteCreator_GenericMethod"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="40"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-keyword">public</span> Product FactoryMethod&lt;T&gt;() <span class="hljs-keyword">where</span> T: Product, <span class="hljs-keyword">new</span>()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="41"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="42"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> T();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="43"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="44"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="45"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="46"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//工廠部分完</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="47"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="48"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//主程式部分</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="49"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// 產品</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="50"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Product theProduct = <span class="hljs-literal">null</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="51"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="52"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">      	<span class="hljs-comment">// 使用Generic Method</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="53"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		ConcreteCreator_GenericMethod theCreatorGM = <span class="hljs-keyword">new</span> ConcreteCreator_GenericMethod();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="54"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theProduct = theCreatorGM.FactoryMethod&lt;ConcreteProductA&gt;();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="55"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theProduct = theCreatorGM.FactoryMethod&lt;ConcreteProductB&gt;();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="56"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr></tbody></table></code></pre>
<h6 id="toc_9">泛型方法<a class="vnote-anchor" href="#toc_9" data-anchor-icon="#"></a></h6>
<p>其實這個方法，已經算是單純用個方法實現他<br>
直接用個方法弄好，然後呼叫他</p>
<pre><code class="lang-csharp hljs"><table class="hljs-ln"><tbody><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="1"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">    <span class="hljs-comment">//工廠部分</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="2"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="3"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="4"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="5"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="6"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="7"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型A</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="8"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProductA</span> : <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="9"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="10"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteProductA</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="11"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="12"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"生成物件類型A"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="13"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="14"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="15"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="16"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-comment">// 成品物件類型B</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="17"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProductB</span> : <span class="hljs-title">Product</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="18"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="19"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ConcreteProductB</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="20"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="21"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"生成物件類型B"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="22"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="23"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="24"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="25"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">// 宣告Generic factory類別</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="26"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Creator_GenericClass</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">where</span> <span class="hljs-title">T</span> : <span class="hljs-title">Product</span>,<span class="hljs-title">new</span>()</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="27"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="28"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Creator_GenericClass</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="29"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="30"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			Debug.Log(<span class="hljs-string">"產生工廠:Creator_GenericClass&lt;"</span>+<span class="hljs-keyword">typeof</span>(T).ToString()+<span class="hljs-string">"&gt;"</span>);</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="31"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="32"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="33"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-function"><span class="hljs-keyword">public</span> Product <span class="hljs-title">FactoryMethod</span>(<span class="hljs-params"></span>)</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="34"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		{</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="35"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> T();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="36"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="37"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">	}</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="38"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="39"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//工廠部分完</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="40"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="41"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">//主程式部分</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="42"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">        <span class="hljs-comment">// 產品</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="43"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Product theProduct = <span class="hljs-literal">null</span>;</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="44"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="45"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"><span class="hljs-comment">// 使用Generic Class</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="46"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-comment">// 負責ProduceA的工廠</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="47"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Creator_GenericClass&lt;ConcreteProductA&gt; Creator_ProductA = <span class="hljs-keyword">new</span> Creator_GenericClass&lt;ConcreteProductA&gt;();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="48"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theProduct = Creator_ProductA.FactoryMethod();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="49"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="50"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		<span class="hljs-comment">// 負責ProduceA的工廠</span></div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="51"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		Creator_GenericClass&lt;ConcreteProductB&gt; Creator_ProductB = <span class="hljs-keyword">new</span> Creator_GenericClass&lt;ConcreteProductB&gt;();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="52"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line">		theProduct = Creator_ProductB.FactoryMethod();</div></td></tr><tr><td class="hljs-ln-numbers"><div class="hljs-ln-line hljs-ln-n" data-line-number="53"></div></td><td class="hljs-ln-code"><div class="hljs-ln-line"> </div></td></tr></tbody></table></code></pre>
<h5 id="toc_10">小結<a class="vnote-anchor" href="#toc_10" data-anchor-icon="#"></a></h5>
<p>工廠方法很重要，因為只要有工廠方法，遊戲物件就能呼叫工廠拿到實例<br>
而書中所教的三個工廠<br>
普通工廠、參數工廠、泛型工廠</p>
<ul>
<li>
<p>論方便性<br>
泛型&gt;參數&gt;普通<br>
泛型只要輸入就可以，<br>
參數要額外設定參數，能用Enum來設定比較方便<br>
普通的就要一個一個設定</p>
</li>
<li>
<p>論設計原則</p>
<ul>
<li>泛型
<ul>
<li>違反最少知識原則(其實我只是懷疑)</li>
<li>因為讓客戶端必須知道要生成什麼Class的詳細具體</li>
</ul>
</li>
<li>參數
<ul>
<li>違反 開閉原則(這很明顯)</li>
<li>一旦工廠更改，就一定會動到Switch</li>
<li>但並不表示這是壞的選項，因為在少量物體下使用這種方法，能更快速建立工廠，以及呼叫</li>
</ul>
</li>
<li>普通
<ul>
<li>違反........想不到</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="toc_11">書中案例<a class="vnote-anchor" href="#toc_11" data-anchor-icon="#"></a></h2>
<h3 id="toc_12">在書中工廠模式<a class="vnote-anchor" href="#toc_12" data-anchor-icon="#"></a></h3>
<p>在書中工廠模式用來生成角色，使用Switch方式來確定角色，主要是在書中案例，<br>
角色是固定 ，差異主要是在數值上，所以運用工廠去生成，從Unity讀取 "模型"、"材質"....<br>
由工廠負責，客戶端就無須注意這些步驟</p>
<div class="plantuml-diagram"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="526.5px" preserveAspectRatio="none" style="width:1372px;height:526px;" version="1.1" viewBox="0 0 1372 526" width="1372.5px" zoomAndPan="magnify" class="view-svg"><defs><filter height="300%" id="f1v3da5l7e0xy0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="6.0" dy="6.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--MD5=[48302d797535573ad91643fa0a80a241]
cluster 角色實例--><rect fill="#FFFFFF" filter="url(#f1v3da5l7e0xy0)" height="153" style="stroke: #000000; stroke-width: 2.25;" width="645" x="33" y="357"></rect><path d="M138,358.5 L138,376.4106 L123,391.4106 L33,391.4106 " fill="none" style="stroke: #000000; stroke-width: 2.25;"></path><text fill="#000000" font-family="sans-serif" font-size="21" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="37.5" y="383.7964">角色實例</text><!--MD5=[5ea3ea243987a4a56619171627849adc]
cluster 敵人實例--><rect fill="#FFFFFF" filter="url(#f1v3da5l7e0xy0)" height="153" style="stroke: #000000; stroke-width: 2.25;" width="642" x="714" y="357"></rect><path d="M819,358.5 L819,376.4106 L804,391.4106 L714,391.4106 " fill="none" style="stroke: #000000; stroke-width: 2.25;"></path><text fill="#000000" font-family="sans-serif" font-size="21" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="718.5" y="383.7964">敵人實例</text><!--MD5=[680914d12c3178e3faf3bf0068aa1d9b]
class SoldierCapin--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="72" id="SoldierCapin" style="stroke: #A80036; stroke-width: 2.25;" width="156" x="498" y="414"></rect><ellipse cx="520.5" cy="438" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M526.6875,443.9297 Q526.1484,444.8672 524.8828,445.8281 Q522.7734,447.3516 518.6719,447.3516 Q515.3906,447.3516 513.1875,445.1484 Q510.6328,442.5938 510.6328,437.8125 Q510.6328,433.4063 513.1641,430.7109 Q515.4844,428.2734 518.8125,428.2734 Q521.625,428.2734 523.1016,428.7188 Q524.5781,429.1641 524.5781,429.1641 Q524.5781,429.1641 524.5781,428.3203 L526.1016,428.1797 L526.3359,434.2734 L524.3438,434.4609 Q523.125,429.0703 519.0234,429.0703 Q519.0234,429.0703 518.1328,429.4922 Q516.7734,430.0078 516,430.8281 Q513.9375,433.1484 513.9141,437.8594 Q513.8906,442.0313 516.1875,444.375 Q518.1328,446.3672 519.375,446.3672 Q522.4219,446.3672 525.7031,442.5234 L526.6875,443.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="108" x="541.5" y="446.8638">SoldierCapin</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="499.5" x2="652.5" y1="462" y2="462"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="499.5" x2="652.5" y1="474" y2="474"></line><!--MD5=[8839c57017129f795ac9d6a7d695a27e]
class SoldierRookie--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="72" id="SoldierRookie" style="stroke: #A80036; stroke-width: 2.25;" width="165" x="280.5" y="414"></rect><ellipse cx="303" cy="438" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M309.1875,443.9297 Q308.6484,444.8672 307.3828,445.8281 Q305.2734,447.3516 301.1719,447.3516 Q297.8906,447.3516 295.6875,445.1484 Q293.1328,442.5938 293.1328,437.8125 Q293.1328,433.4063 295.6641,430.7109 Q297.9844,428.2734 301.3125,428.2734 Q304.125,428.2734 305.6016,428.7188 Q307.0781,429.1641 307.0781,429.1641 Q307.0781,429.1641 307.0781,428.3203 L308.6016,428.1797 L308.8359,434.2734 L306.8438,434.4609 Q305.625,429.0703 301.5234,429.0703 Q301.5234,429.0703 300.6328,429.4922 Q299.2734,430.0078 298.5,430.8281 Q296.4375,433.1484 296.4141,437.8594 Q296.3906,442.0313 298.6875,444.375 Q300.6328,446.3672 301.875,446.3672 Q304.9219,446.3672 308.2031,442.5234 L309.1875,443.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="117" x="324" y="446.8638">SoldierRookie</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="282" x2="444" y1="462" y2="462"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="282" x2="444" y1="474" y2="474"></line><!--MD5=[c2f97ada820a89c1edc6b54397dfa5c3]
class SoldierSergant--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="72" id="SoldierSergant" style="stroke: #A80036; stroke-width: 2.25;" width="171" x="57" y="414"></rect><ellipse cx="79.5" cy="438" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M85.6875,443.9297 Q85.1484,444.8672 83.8828,445.8281 Q81.7734,447.3516 77.6719,447.3516 Q74.3906,447.3516 72.1875,445.1484 Q69.6328,442.5938 69.6328,437.8125 Q69.6328,433.4063 72.1641,430.7109 Q74.4844,428.2734 77.8125,428.2734 Q80.625,428.2734 82.1016,428.7188 Q83.5781,429.1641 83.5781,429.1641 Q83.5781,429.1641 83.5781,428.3203 L85.1016,428.1797 L85.3359,434.2734 L83.3438,434.4609 Q82.125,429.0703 78.0234,429.0703 Q78.0234,429.0703 77.1328,429.4922 Q75.7734,430.0078 75,430.8281 Q72.9375,433.1484 72.9141,437.8594 Q72.8906,442.0313 75.1875,444.375 Q77.1328,446.3672 78.375,446.3672 Q81.4219,446.3672 84.7031,442.5234 L85.6875,443.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="123" x="100.5" y="446.8638">SoldierSergant</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="58.5" x2="226.5" y1="462" y2="462"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="58.5" x2="226.5" y1="474" y2="474"></line><!--MD5=[eec568e563686def99159a1568811930]
class EnemyCapin--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="72" id="EnemyCapin" style="stroke: #A80036; stroke-width: 2.25;" width="154.5" x="1176.75" y="414"></rect><ellipse cx="1199.25" cy="438" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M1205.4375,443.9297 Q1204.8984,444.8672 1203.6328,445.8281 Q1201.5234,447.3516 1197.4219,447.3516 Q1194.1406,447.3516 1191.9375,445.1484 Q1189.3828,442.5938 1189.3828,437.8125 Q1189.3828,433.4063 1191.9141,430.7109 Q1194.2344,428.2734 1197.5625,428.2734 Q1200.375,428.2734 1201.8516,428.7188 Q1203.3281,429.1641 1203.3281,429.1641 Q1203.3281,429.1641 1203.3281,428.3203 L1204.8516,428.1797 L1205.0859,434.2734 L1203.0938,434.4609 Q1201.875,429.0703 1197.7734,429.0703 Q1197.7734,429.0703 1196.8828,429.4922 Q1195.5234,430.0078 1194.75,430.8281 Q1192.6875,433.1484 1192.6641,437.8594 Q1192.6406,442.0313 1194.9375,444.375 Q1196.8828,446.3672 1198.125,446.3672 Q1201.1719,446.3672 1204.4531,442.5234 L1205.4375,443.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="106.5" x="1220.25" y="446.8638">EnemyCapin</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="1178.25" x2="1329.75" y1="462" y2="462"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="1178.25" x2="1329.75" y1="474" y2="474"></line><!--MD5=[b7e2bfd8ecc6973e14c49433a5de124b]
class EnemyRookie--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="72" id="EnemyRookie" style="stroke: #A80036; stroke-width: 2.25;" width="163.5" x="960.75" y="414"></rect><ellipse cx="983.25" cy="438" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M989.4375,443.9297 Q988.8984,444.8672 987.6328,445.8281 Q985.5234,447.3516 981.4219,447.3516 Q978.1406,447.3516 975.9375,445.1484 Q973.3828,442.5938 973.3828,437.8125 Q973.3828,433.4063 975.9141,430.7109 Q978.2344,428.2734 981.5625,428.2734 Q984.375,428.2734 985.8516,428.7188 Q987.3281,429.1641 987.3281,429.1641 Q987.3281,429.1641 987.3281,428.3203 L988.8516,428.1797 L989.0859,434.2734 L987.0938,434.4609 Q985.875,429.0703 981.7734,429.0703 Q981.7734,429.0703 980.8828,429.4922 Q979.5234,430.0078 978.75,430.8281 Q976.6875,433.1484 976.6641,437.8594 Q976.6406,442.0313 978.9375,444.375 Q980.8828,446.3672 982.125,446.3672 Q985.1719,446.3672 988.4531,442.5234 L989.4375,443.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="115.5" x="1004.25" y="446.8638">EnemyRookie</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="962.25" x2="1122.75" y1="462" y2="462"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="962.25" x2="1122.75" y1="474" y2="474"></line><!--MD5=[d847261e427f7ddfaa06c07e0f6159f7]
class EnemySergant--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="72" id="EnemySergant" style="stroke: #A80036; stroke-width: 2.25;" width="169.5" x="738.75" y="414"></rect><ellipse cx="761.25" cy="438" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M767.4375,443.9297 Q766.8984,444.8672 765.6328,445.8281 Q763.5234,447.3516 759.4219,447.3516 Q756.1406,447.3516 753.9375,445.1484 Q751.3828,442.5938 751.3828,437.8125 Q751.3828,433.4063 753.9141,430.7109 Q756.2344,428.2734 759.5625,428.2734 Q762.375,428.2734 763.8516,428.7188 Q765.3281,429.1641 765.3281,429.1641 Q765.3281,429.1641 765.3281,428.3203 L766.8516,428.1797 L767.0859,434.2734 L765.0938,434.4609 Q763.875,429.0703 759.7734,429.0703 Q759.7734,429.0703 758.8828,429.4922 Q757.5234,430.0078 756.75,430.8281 Q754.6875,433.1484 754.6641,437.8594 Q754.6406,442.0313 756.9375,444.375 Q758.8828,446.3672 760.125,446.3672 Q763.1719,446.3672 766.4531,442.5234 L767.4375,443.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="121.5" x="782.25" y="446.8638">EnemySergant</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="740.25" x2="906.75" y1="462" y2="462"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="740.25" x2="906.75" y1="474" y2="474"></line><!--MD5=[63416a8d718e24f5460e86226ac99d9e]
class ICharacterFactory--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="95.5012" id="ICharacterFactory" style="stroke: #A80036; stroke-width: 2.25;" width="195" x="606" y="27"></rect><ellipse cx="628.5" cy="51" fill="#A9DCDF" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M637.8516,58.1484 L630.4688,58.1484 L630.4688,57.6563 Q631.4297,57.5859 631.8281,57.4453 Q632.4609,57.1641 632.4609,56.3906 Q632.4609,55.7813 632.0156,54.6094 L631.125,52.1484 L625.6641,52.1484 L624.4219,55.3125 Q624.2109,55.8047 624.2109,56.3906 Q624.2109,57.1875 624.8203,57.4453 Q625.0781,57.5859 625.8516,57.6563 L625.8516,58.1484 L619.8047,58.1484 L619.8047,57.6563 Q620.1328,57.5859 620.4375,57.5156 Q620.7422,57.4453 621.0234,57.0938 Q621.7266,56.2031 622.8281,53.1563 L627.8672,39.4922 L629.4609,39.4922 L635.3672,55.1953 Q635.9063,56.6953 636.5625,57.2344 Q636.9375,57.5156 637.8516,57.6563 L637.8516,58.1484 Z M630.7969,51.2109 L628.125,43.3594 L625.875,51.2109 L630.7969,51.2109 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="147" x="649.5" y="59.8638">ICharacterFactory</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="607.5" x2="799.5" y1="75" y2="75"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="66" x="615" y="100.8757">工廠抽象</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="607.5" x2="799.5" y1="110.5012" y2="110.5012"></line><!--MD5=[b43988c37c734549402add9a9387dd1d]
class CharacterFactory--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="95.5012" id="CharacterFactory" style="stroke: #A80036; stroke-width: 2.25;" width="187.5" x="609.75" y="228"></rect><ellipse cx="632.25" cy="252" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M638.4375,257.9297 Q637.8984,258.8672 636.6328,259.8281 Q634.5234,261.3516 630.4219,261.3516 Q627.1406,261.3516 624.9375,259.1484 Q622.3828,256.5938 622.3828,251.8125 Q622.3828,247.4063 624.9141,244.7109 Q627.2344,242.2734 630.5625,242.2734 Q633.375,242.2734 634.8516,242.7188 Q636.3281,243.1641 636.3281,243.1641 Q636.3281,243.1641 636.3281,242.3203 L637.8516,242.1797 L638.0859,248.2734 L636.0938,248.4609 Q634.875,243.0703 630.7734,243.0703 Q630.7734,243.0703 629.8828,243.4922 Q628.5234,244.0078 627.75,244.8281 Q625.6875,247.1484 625.6641,251.8594 Q625.6406,256.0313 627.9375,258.375 Q629.8828,260.3672 631.125,260.3672 Q634.1719,260.3672 637.4531,256.5234 L638.4375,257.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="139.5" x="653.25" y="260.8638">CharacterFactory</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="611.25" x2="795.75" y1="276" y2="276"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="33" x="618.75" y="301.8757">工廠</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="611.25" x2="795.75" y1="311.5012" y2="311.5012"></line><!--MD5=[32ae9a990512fd79ac437b89e0cdcf39]
class ISoldier--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="95.5012" id="ISoldier" style="stroke: #A80036; stroke-width: 2.25;" width="112.5" x="375.75" y="228"></rect><ellipse cx="398.25" cy="252" fill="#A9DCDF" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M407.6016,259.1484 L400.2188,259.1484 L400.2188,258.6563 Q401.1797,258.5859 401.5781,258.4453 Q402.2109,258.1641 402.2109,257.3906 Q402.2109,256.7813 401.7656,255.6094 L400.875,253.1484 L395.4141,253.1484 L394.1719,256.3125 Q393.9609,256.8047 393.9609,257.3906 Q393.9609,258.1875 394.5703,258.4453 Q394.8281,258.5859 395.6016,258.6563 L395.6016,259.1484 L389.5547,259.1484 L389.5547,258.6563 Q389.8828,258.5859 390.1875,258.5156 Q390.4922,258.4453 390.7734,258.0938 Q391.4766,257.2031 392.5781,254.1563 L397.6172,240.4922 L399.2109,240.4922 L405.1172,256.1953 Q405.6563,257.6953 406.3125,258.2344 Q406.6875,258.5156 407.6016,258.6563 L407.6016,259.1484 Z M400.5469,252.2109 L397.875,244.3594 L395.625,252.2109 L400.5469,252.2109 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64.5" x="419.25" y="260.8638">ISoldier</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="377.25" x2="486.75" y1="276" y2="276"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="66" x="384.75" y="301.8757">角色抽象</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="377.25" x2="486.75" y1="311.5012" y2="311.5012"></line><!--MD5=[6c9afd200c147b205c0a7326c0169cfa]
class IEnemy--><rect fill="#FEFECE" filter="url(#f1v3da5l7e0xy0)" height="95.5012" id="IEnemy" style="stroke: #A80036; stroke-width: 2.25;" width="112.5" x="876.75" y="228"></rect><ellipse cx="899.25" cy="252" fill="#A9DCDF" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M908.6016,259.1484 L901.2188,259.1484 L901.2188,258.6563 Q902.1797,258.5859 902.5781,258.4453 Q903.2109,258.1641 903.2109,257.3906 Q903.2109,256.7813 902.7656,255.6094 L901.875,253.1484 L896.4141,253.1484 L895.1719,256.3125 Q894.9609,256.8047 894.9609,257.3906 Q894.9609,258.1875 895.5703,258.4453 Q895.8281,258.5859 896.6016,258.6563 L896.6016,259.1484 L890.5547,259.1484 L890.5547,258.6563 Q890.8828,258.5859 891.1875,258.5156 Q891.4922,258.4453 891.7734,258.0938 Q892.4766,257.2031 893.5781,254.1563 L898.6172,240.4922 L900.2109,240.4922 L906.1172,256.1953 Q906.6563,257.6953 907.3125,258.2344 Q907.6875,258.5156 908.6016,258.6563 L908.6016,259.1484 Z M901.5469,252.2109 L898.875,244.3594 L896.625,252.2109 L901.5469,252.2109 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64.5" x="920.25" y="260.8638">IEnemy</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="878.25" x2="987.75" y1="276" y2="276"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="66" x="885.75" y="301.8757">敵人抽象</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="878.25" x2="987.75" y1="311.5012" y2="311.5012"></line><path d="M853.5,12 L853.5,138.0967 L1288.5,138.0967 L1288.5,27 L1273.5,12 L853.5,12 " fill="#FBFB77" filter="url(#f1v3da5l7e0xy0)" style="stroke: #A80036; stroke-width: 1.5;"></path><path d="M1273.5,12 L1273.5,27 L1288.5,27 L1273.5,12 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.5;"></path><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="292.5" x="862.5" y="42.9895">透過工廠生成角色或敵人的實例化</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="267" x="862.5" y="70.7637">至於返回是ISoldier或是IEnemy</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="403.5" x="862.5" y="98.5378">是因為在系統執行上是使用ISoldier或是IEnemy</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="156" x="862.5" y="126.312">所以才讓工廠回傳</text><!--MD5=[6842c95e079ae39f65f32b9671c803bb]
reverse link ICharacterFactory to CharacterFactory--><path d="M703.5,153.6255 C703.5,178.7115 703.5,205.77 703.5,227.913 " fill="none" id="ICharacterFactory<-CharacterFactory" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="693,153.423,703.5,123.423,714,153.423,693,153.423" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[81e78b4972cf2053c31e7b3418916f04]
link ISoldier to CharacterFactory--><path d="M488.739,276 C529.0065,276 569.274,276 609.5415,276 " fill="none" id="ISoldier-CharacterFactory" style="stroke: #A80036; stroke-width: 1.5; stroke-dasharray: 7.0,7.0;"></path><!--MD5=[67304c180e7c22648689555fca73c8c1]
link CharacterFactory to IEnemy--><path d="M797.631,276 C823.8945,276 850.1565,276 876.42,276 " fill="none" id="CharacterFactory-IEnemy" style="stroke: #A80036; stroke-width: 1.5; stroke-dasharray: 7.0,7.0;"></path><!--MD5=[aa10482450270269f63c8330b2ccf843]
reverse link ISoldier to SoldierCapin--><path d="M490.731,347.244 C510.0225,370.1505 530.628,394.621 546.7515,413.7669 " fill="none" id="ISoldier<-SoldierCapin" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="482.6415,353.937,471.348,324.2265,498.705,340.41,482.6415,353.937" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[df2f69ea6de457d340baaf821420634e]
reverse link ISoldier to SoldierRookie--><path d="M401.805,352.3305 C393.171,373.728 384.171,396.0318 377.0145,413.7669 " fill="none" id="ISoldier<-SoldierRookie" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="392.1825,348.1185,413.145,324.2265,411.657,355.9755,392.1825,348.1185" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[a505d50d185ce9bc09e91963ca261dda]
reverse link ISoldier to SoldierSergant--><path d="M346.8915,302.1 C316.2225,312.888 282.141,327.2025 253.5,345 C223.287,363.774 194.0715,391.5293 173.2035,413.5731 " fill="none" id="ISoldier<-SoldierSergant" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="343.746,292.08,375.525,292.6635,350.319,312.0255,343.746,292.08" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[f415737466baccb92ad1f7b2bb673941]
reverse link IEnemy to EnemyCapin--><path d="M1018.683,293.934 C1060.4625,304.4115 1110.2505,320.7 1150.5,345 C1180.3035,362.994 1207.8495,391.3698 1227.0195,413.8631 " fill="none" id="IEnemy<-EnemyCapin" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="1016.1375,304.122,989.259,287.1585,1020.8505,283.6575,1016.1375,304.122" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[068c89a5a0d45b91bbbab43d8f35958a]
reverse link IEnemy to EnemyRookie--><path d="M979.518,350.145 C993.642,372.2025 1008.5145,395.4273 1020.258,413.7669 " fill="none" id="IEnemy<-EnemyRookie" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="970.257,355.1535,962.922,324.2265,987.942,343.8285,970.257,355.1535" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[59e8bc057d23f884d89d030c4f056981]
reverse link IEnemy to EnemySergant--><path d="M886.482,350.145 C872.358,372.2025 857.4855,395.4273 845.742,413.7669 " fill="none" id="IEnemy<-EnemySergant" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="878.058,343.8285,903.078,324.2265,895.743,355.1535,878.058,343.8285" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[aca6cccc0272d5882273a10ada433ed7]
@startuml
scale 1.5
skinparam classAttributeIconSize 0


abstract class ICharacterFactory{
工廠抽象
}

class CharacterFactory{
工廠
}

abstract class ISoldier{
角色抽象
}

abstract class IEnemy{
敵人抽象
}

package 角色實例 <<Frame>> {
class SoldierCapin
class SoldierRookie
class SoldierSergant
}

package 敵人實例 <<Frame>> {
class EnemyCapin
class EnemyRookie
class EnemySergant
}


ICharacterFactory <|- - CharacterFactory

CharacterFactory .left. ISoldier
CharacterFactory .right. IEnemy

ISoldier <|- - SoldierCapin
ISoldier <|- - SoldierRookie
ISoldier <|- - SoldierSergant

IEnemy <|- - EnemyCapin
IEnemy <|- - EnemyRookie
IEnemy <|- - EnemySergant

note as N1
透過工廠生成角色或敵人的實例化
至於返回是ISoldier或是IEnemy
是因為在系統執行上是使用ISoldier或是IEnemy
所以才讓工廠回傳
end note

@enduml

PlantUML version 1.2020.00(Sat Jan 11 20:30:53 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_231-b11
Operating System: Windows 10
Default Encoding: MS950
Language: zh
Country: TW
--></g></svg></div>
<h3 id="toc_13">工廠模式遇到變化<a class="vnote-anchor" href="#toc_13" data-anchor-icon="#"></a></h3>
<p>在書中也有介紹工廠模式在遇到變化該麼辦<br>
在書中提出的例子是Unity讀取資料<br>
在Unity書中讀取資料有</p>
<ol>
<li>Resouree資料夾讀取</li>
<li>電腦本機 C://......</li>
<li>Web Sever<br>
這三種，但根據不同裝置所要使用都不一樣<br>
所已給出方法是，創建三種工廠來代表</li>
</ol>
<div class="plantuml-diagram"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentscripttype="application/ecmascript" contentstyletype="text/css" height="595.5px" preserveAspectRatio="none" style="width:1162px;height:595px;" version="1.1" viewBox="0 0 1162 595" width="1162.5px" zoomAndPan="magnify" class="view-svg"><defs><filter height="300%" id="f11bjj6lxhga4f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="3.0"></feGaussianBlur><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"></feColorMatrix><feOffset dx="6.0" dy="6.0" in="blurOut2" result="blurOut3"></feOffset><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"></feBlend></filter></defs><g><!--MD5=[13806d0edba2597e0b992aa49fb24b18]
cluster 工廠外觀--><rect fill="#FFFFFF" filter="url(#f11bjj6lxhga4f)" height="471" style="stroke: #000000; stroke-width: 2.25;" width="1113" x="33" y="108"></rect><path d="M138,109.5 L138,127.4106 L123,142.4106 L33,142.4106 " fill="none" style="stroke: #000000; stroke-width: 2.25;"></path><text fill="#000000" font-family="sans-serif" font-size="21" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="37.5" y="134.7964">工廠外觀</text><!--MD5=[ced0ca72023233f1b80a456868d21c77]
cluster 工廠抽象--><rect fill="#FFFFFF" filter="url(#f11bjj6lxhga4f)" height="177" style="stroke: #000000; stroke-width: 2.25;" width="207" x="520.5" y="177"></rect><path d="M625.5,178.5 L625.5,196.4106 L610.5,211.4106 L520.5,211.4106 " fill="none" style="stroke: #000000; stroke-width: 2.25;"></path><text fill="#000000" font-family="sans-serif" font-size="21" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="525" y="203.7964">工廠抽象</text><!--MD5=[1519568256a71a69071e8d6a3d3f8bfd]
cluster 資源工廠--><rect fill="#FFFFFF" filter="url(#f11bjj6lxhga4f)" height="153" style="stroke: #000000; stroke-width: 2.25;" width="804" x="306" y="390"></rect><path d="M411,391.5 L411,409.4106 L396,424.4106 L306,424.4106 " fill="none" style="stroke: #000000; stroke-width: 2.25;"></path><text fill="#000000" font-family="sans-serif" font-size="21" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="310.5" y="416.7964">資源工廠</text><!--MD5=[81e924c2c5b411b62d162ab1c3b67dfb]
cluster 其他工廠--><rect fill="#FFFFFF" filter="url(#f11bjj6lxhga4f)" height="153" style="stroke: #000000; stroke-width: 2.25;" width="201" x="69" y="390"></rect><path d="M174,391.5 L174,409.4106 L159,424.4106 L69,424.4106 " fill="none" style="stroke: #000000; stroke-width: 2.25;"></path><text fill="#000000" font-family="sans-serif" font-size="21" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="73.5" y="416.7964">其他工廠</text><!--MD5=[3ba5701f5fc67d4017ff117224a7358c]
class PBDFactory--><rect fill="#FEFECE" filter="url(#f11bjj6lxhga4f)" height="142.5037" id="PBDFactory" style="stroke: #A80036; stroke-width: 2.25;" width="240" x="121.5" y="210.75"></rect><ellipse cx="187.2" cy="234.75" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M193.3875,240.6797 Q192.8484,241.6172 191.5828,242.5781 Q189.4734,244.1016 185.3719,244.1016 Q182.0906,244.1016 179.8875,241.8984 Q177.3328,239.3438 177.3328,234.5625 Q177.3328,230.1563 179.8641,227.4609 Q182.1844,225.0234 185.5125,225.0234 Q188.325,225.0234 189.8016,225.4688 Q191.2781,225.9141 191.2781,225.9141 Q191.2781,225.9141 191.2781,225.0703 L192.8016,224.9297 L193.0359,231.0234 L191.0438,231.2109 Q189.825,225.8203 185.7234,225.8203 Q185.7234,225.8203 184.8328,226.2422 Q183.4734,226.7578 182.7,227.5781 Q180.6375,229.8984 180.6141,234.6094 Q180.5906,238.7813 182.8875,241.125 Q184.8328,243.1172 186.075,243.1172 Q189.1219,243.1172 192.4031,239.2734 L193.3875,240.6797 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="96" x="217.8" y="243.6138">PBDFactory</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="123" x2="360" y1="258.75" y2="258.75"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="99" x="130.5" y="284.6257">工廠外觀模式</text><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="99" x="130.5" y="308.127">統整所有工廠</text><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="222" x="130.5" y="331.6282">並讓Class Static 讓所有類訪問</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="123" x2="360" y1="341.2537" y2="341.2537"></line><!--MD5=[69625806c97881d12ada3de57a60a59a]
class IAssetFactory--><rect fill="#FEFECE" filter="url(#f11bjj6lxhga4f)" height="95.5012" id="IAssetFactory" style="stroke: #A80036; stroke-width: 2.25;" width="157.5" x="545.25" y="234"></rect><ellipse cx="567.75" cy="258" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M573.9375,263.9297 Q573.3984,264.8672 572.1328,265.8281 Q570.0234,267.3516 565.9219,267.3516 Q562.6406,267.3516 560.4375,265.1484 Q557.8828,262.5938 557.8828,257.8125 Q557.8828,253.4063 560.4141,250.7109 Q562.7344,248.2734 566.0625,248.2734 Q568.875,248.2734 570.3516,248.7188 Q571.8281,249.1641 571.8281,249.1641 Q571.8281,249.1641 571.8281,248.3203 L573.3516,248.1797 L573.5859,254.2734 L571.5938,254.4609 Q570.375,249.0703 566.2734,249.0703 Q566.2734,249.0703 565.3828,249.4922 Q564.0234,250.0078 563.25,250.8281 Q561.1875,253.1484 561.1641,257.8594 Q561.1406,262.0313 563.4375,264.375 Q565.3828,266.3672 566.625,266.3672 Q569.6719,266.3672 572.9531,262.5234 L573.9375,263.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="109.5" x="588.75" y="266.8638">IAssetFactory</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="546.75" x2="701.25" y1="282" y2="282"></line><text fill="#000000" font-family="sans-serif" font-size="16.5" lengthAdjust="spacingAndGlyphs" textLength="109.5" x="554.25" y="307.8757">Asset工廠抽象</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="546.75" x2="701.25" y1="317.5012" y2="317.5012"></line><!--MD5=[3a810dd5569f8368202edf79baa402cd]
class ResourceAssetFactory--><rect fill="#FEFECE" filter="url(#f11bjj6lxhga4f)" height="72" id="ResourceAssetFactory" style="stroke: #A80036; stroke-width: 2.25;" width="234" x="852" y="447"></rect><ellipse cx="874.5" cy="471" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M880.6875,476.9297 Q880.1484,477.8672 878.8828,478.8281 Q876.7734,480.3516 872.6719,480.3516 Q869.3906,480.3516 867.1875,478.1484 Q864.6328,475.5938 864.6328,470.8125 Q864.6328,466.4063 867.1641,463.7109 Q869.4844,461.2734 872.8125,461.2734 Q875.625,461.2734 877.1016,461.7188 Q878.5781,462.1641 878.5781,462.1641 Q878.5781,462.1641 878.5781,461.3203 L880.1016,461.1797 L880.3359,467.2734 L878.3438,467.4609 Q877.125,462.0703 873.0234,462.0703 Q873.0234,462.0703 872.1328,462.4922 Q870.7734,463.0078 870,463.8281 Q867.9375,466.1484 867.9141,470.8594 Q867.8906,475.0313 870.1875,477.375 Q872.1328,479.3672 873.375,479.3672 Q876.4219,479.3672 879.7031,475.5234 L880.6875,476.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="186" x="895.5" y="479.8638">ResourceAssetFactory</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="853.5" x2="1084.5" y1="495" y2="495"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="853.5" x2="1084.5" y1="507" y2="507"></line><!--MD5=[2395a10852de5abd79a45955acc8cdff]
class RemoteAssetFactory--><rect fill="#FEFECE" filter="url(#f11bjj6lxhga4f)" height="72" id="RemoteAssetFactory" style="stroke: #A80036; stroke-width: 2.25;" width="219" x="580.5" y="447"></rect><ellipse cx="603" cy="471" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M609.1875,476.9297 Q608.6484,477.8672 607.3828,478.8281 Q605.2734,480.3516 601.1719,480.3516 Q597.8906,480.3516 595.6875,478.1484 Q593.1328,475.5938 593.1328,470.8125 Q593.1328,466.4063 595.6641,463.7109 Q597.9844,461.2734 601.3125,461.2734 Q604.125,461.2734 605.6016,461.7188 Q607.0781,462.1641 607.0781,462.1641 Q607.0781,462.1641 607.0781,461.3203 L608.6016,461.1797 L608.8359,467.2734 L606.8438,467.4609 Q605.625,462.0703 601.5234,462.0703 Q601.5234,462.0703 600.6328,462.4922 Q599.2734,463.0078 598.5,463.8281 Q596.4375,466.1484 596.4141,470.8594 Q596.3906,475.0313 598.6875,477.375 Q600.6328,479.3672 601.875,479.3672 Q604.9219,479.3672 608.2031,475.5234 L609.1875,476.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="171" x="624" y="479.8638">RemoteAssetFactory</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="582" x2="798" y1="495" y2="495"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="582" x2="798" y1="507" y2="507"></line><!--MD5=[ac1dd375930e18bb035d640fee59c35b]
class LocalAssetFactory--><rect fill="#FEFECE" filter="url(#f11bjj6lxhga4f)" height="72" id="LocalAssetFactory" style="stroke: #A80036; stroke-width: 2.25;" width="198" x="330" y="447"></rect><ellipse cx="352.5" cy="471" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M358.6875,476.9297 Q358.1484,477.8672 356.8828,478.8281 Q354.7734,480.3516 350.6719,480.3516 Q347.3906,480.3516 345.1875,478.1484 Q342.6328,475.5938 342.6328,470.8125 Q342.6328,466.4063 345.1641,463.7109 Q347.4844,461.2734 350.8125,461.2734 Q353.625,461.2734 355.1016,461.7188 Q356.5781,462.1641 356.5781,462.1641 Q356.5781,462.1641 356.5781,461.3203 L358.1016,461.1797 L358.3359,467.2734 L356.3438,467.4609 Q355.125,462.0703 351.0234,462.0703 Q351.0234,462.0703 350.1328,462.4922 Q348.7734,463.0078 348,463.8281 Q345.9375,466.1484 345.9141,470.8594 Q345.8906,475.0313 348.1875,477.375 Q350.1328,479.3672 351.375,479.3672 Q354.4219,479.3672 357.7031,475.5234 L358.6875,476.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="150" x="373.5" y="479.8638">LocalAssetFactory</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="331.5" x2="526.5" y1="495" y2="495"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="331.5" x2="526.5" y1="507" y2="507"></line><!--MD5=[e09979746fabcdb3de354982081983be]
class OtherFactory--><rect fill="#FEFECE" filter="url(#f11bjj6lxhga4f)" height="72" id="OtherFactory" style="stroke: #A80036; stroke-width: 2.25;" width="151.5" x="93.75" y="447"></rect><ellipse cx="116.25" cy="471" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M122.4375,476.9297 Q121.8984,477.8672 120.6328,478.8281 Q118.5234,480.3516 114.4219,480.3516 Q111.1406,480.3516 108.9375,478.1484 Q106.3828,475.5938 106.3828,470.8125 Q106.3828,466.4063 108.9141,463.7109 Q111.2344,461.2734 114.5625,461.2734 Q117.375,461.2734 118.8516,461.7188 Q120.3281,462.1641 120.3281,462.1641 Q120.3281,462.1641 120.3281,461.3203 L121.8516,461.1797 L122.0859,467.2734 L120.0938,467.4609 Q118.875,462.0703 114.7734,462.0703 Q114.7734,462.0703 113.8828,462.4922 Q112.5234,463.0078 111.75,463.8281 Q109.6875,466.1484 109.6641,470.8594 Q109.6406,475.0313 111.9375,477.375 Q113.8828,479.3672 115.125,479.3672 Q118.1719,479.3672 121.4531,475.5234 L122.4375,476.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="103.5" x="137.25" y="479.8638">OtherFactory</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="95.25" x2="243.75" y1="495" y2="495"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="95.25" x2="243.75" y1="507" y2="507"></line><!--MD5=[29da4410fec66585ff5628f2c1264293]
class OtherSystem--><rect fill="#FEFECE" filter="url(#f11bjj6lxhga4f)" height="72" id="OtherSystem" style="stroke: #A80036; stroke-width: 2.25;" width="154.5" x="164.25" y="12"></rect><ellipse cx="186.75" cy="36" fill="#ADD1B2" rx="16.5" ry="16.5" style="stroke: #A80036; stroke-width: 1.5;"></ellipse><path d="M192.9375,41.9297 Q192.3984,42.8672 191.1328,43.8281 Q189.0234,45.3516 184.9219,45.3516 Q181.6406,45.3516 179.4375,43.1484 Q176.8828,40.5938 176.8828,35.8125 Q176.8828,31.4063 179.4141,28.7109 Q181.7344,26.2734 185.0625,26.2734 Q187.875,26.2734 189.3516,26.7188 Q190.8281,27.1641 190.8281,27.1641 Q190.8281,27.1641 190.8281,26.3203 L192.3516,26.1797 L192.5859,32.2734 L190.5938,32.4609 Q189.375,27.0703 185.2734,27.0703 Q185.2734,27.0703 184.3828,27.4922 Q183.0234,28.0078 182.25,28.8281 Q180.1875,31.1484 180.1641,35.8594 Q180.1406,40.0313 182.4375,42.375 Q184.3828,44.3672 185.625,44.3672 Q188.6719,44.3672 191.9531,40.5234 L192.9375,41.9297 Z "></path><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="106.5" x="207.75" y="44.8638">OtherSystem</text><line style="stroke: #A80036; stroke-width: 2.25;" x1="165.75" x2="317.25" y1="60" y2="60"></line><line style="stroke: #A80036; stroke-width: 2.25;" x1="165.75" x2="317.25" y1="72" y2="72"></line><path d="M371.25,12.75 L371.25,83.2983 L840.75,83.2983 L840.75,27.75 L825.75,12.75 L371.25,12.75 " fill="#FBFB77" filter="url(#f11bjj6lxhga4f)" style="stroke: #A80036; stroke-width: 1.5;"></path><path d="M825.75,12.75 L825.75,27.75 L840.75,27.75 L825.75,12.75 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.5;"></path><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="340.5" x="380.25" y="43.7395">這在設計上讓PBDFactory擁有所有工廠</text><text fill="#000000" font-family="sans-serif" font-size="19.5" lengthAdjust="spacingAndGlyphs" textLength="438" x="380.25" y="71.5137">這樣其他系統就能通過PBDFactory來找到要的工廠</text><!--MD5=[f6974bc92411df3b7e6930dafae7744e]
reverse link PBDFactory to IAssetFactory--><path d="M381.8325,282 C436.2645,282 490.6965,282 545.1285,282 " fill="none" id="PBDFactory<-IAssetFactory" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="#A80036" points="361.779,282,370.779,288,379.779,282,370.779,276,361.779,282" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[5f55e3851f0b48a712da4a575d4e3bd0]
reverse link PBDFactory to OtherFactory--><path d="M209.376,371.841 C199.7445,398.328 189.738,425.8455 182.1585,446.688 " fill="none" id="PBDFactory<-OtherFactory" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="#A80036" points="216.1155,353.307,207.4009,359.7145,209.9638,370.2232,218.6784,363.8156,216.1155,353.307" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[d802474d1aebbb69a22821e02b684a08]
link OtherSystem to PBDFactory--><path d="M241.5,84.0825 C241.5,115.2345 241.5,162.165 241.5,202.3425 " fill="none" id="OtherSystem->PBDFactory" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="#A80036" points="241.5,210.2805,247.5,196.7805,241.5,202.7805,235.5,196.7805,241.5,210.2805" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[70283ea5b2dcd2062e8f48c25f617afa]
reverse link IAssetFactory to ResourceAssetFactory--><path d="M730.626,328.6125 C762.1395,343.1775 796.2765,360.1935 826.5,378 C861.2745,398.487 898.074,425.364 925.5645,446.595 " fill="none" id="IAssetFactory<-ResourceAssetFactory" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="726.2175,338.1435,703.1925,316.233,734.856,319.002,726.2175,338.1435" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[49c2b005502d2eacd1f65072cb08a339]
reverse link IAssetFactory to RemoteAssetFactory--><path d="M649.2,359.1015 C659.25,389.25 670.323,422.4705 678.3945,446.685 " fill="none" id="IAssetFactory<-RemoteAssetFactory" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="639.1665,362.2035,639.6405,330.423,659.0895,355.563,639.1665,362.2035" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[d76cd5d80099c588d9d5a0efe63ff69f]
reverse link IAssetFactory to LocalAssetFactory--><path d="M556.443,352.0965 C525.018,384.0045 488.9985,420.579 463.287,446.685 " fill="none" id="IAssetFactory<-LocalAssetFactory" style="stroke: #A80036; stroke-width: 1.5;"></path><polygon fill="none" points="549.2565,344.43,577.788,330.423,564.2175,359.166,549.2565,344.43" style="stroke: #A80036; stroke-width: 1.5;"></polygon><!--MD5=[be37bdcb472e424a5ffbbc300aa09a1c]
@startuml
skinparam classAttributeIconSize 0
scale 1.5


package 工廠外觀 <<Frame>> {
class PBDFactory
package 工廠抽象 <<Frame>>{
class IAssetFactory
}
package 資源工廠 <<Frame>> {
Class ResourceAssetFactory
Class RemoteAssetFactory
Class LocalAssetFactory
}
package 其他工廠 <<Frame>> {
Class OtherFactory
}
}




 class PBDFactory{
工廠外觀模式
統整所有工廠
並讓Class Static 讓所有類訪問
}

class IAssetFactory{
Asset工廠抽象
}



PBDFactory *-right- IAssetFactory
PBDFactory *-down- OtherFactory

OtherSystem - -> PBDFactory

IAssetFactory <|- - ResourceAssetFactory
IAssetFactory <|- - RemoteAssetFactory
IAssetFactory <|- - LocalAssetFactory


note as N1
這在設計上讓PBDFactory擁有所有工廠
這樣其他系統就能通過PBDFactory來找到要的工廠
end note

@enduml

PlantUML version 1.2020.00(Sat Jan 11 20:30:53 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_231-b11
Operating System: Windows 10
Default Encoding: MS950
Language: zh
Country: TW
--></g></svg></div>
<h2 id="toc_14">總結<a class="vnote-anchor" href="#toc_14" data-anchor-icon="#"></a></h2>
<p>工廠模式在設計中運用的範圍特別多，<br>
尤其是他返回實例，而實例是如何創建的這件事給關閉，客戶端無須知道<br>
利用這特性，也就能做到像是分割Asset的輸入方式</p>
<p>在書中工廠模式運用在，Asset資源導入、武器生成、數值生成...上面<br>
工廠模式還能與其他模式配合，例如:建造者模式</p>

    </div>
</div>
</div>

<div id="container-floating" style="display:none;" class="d-none d-md-block d-xl-block">
    <div id="floating-button" onclick="toggleMore()">
        <p id="floating-more" class="more">&gt;</p>
    </div>
</div>

<!--
<div class="footer" id="vnote-footer">
    <p>Generated by <em><a href="https://tamlok.github.io/vnote/">VNote</a></em>.</p>
</div>
-->
</body>
</html>
